# 04 开放-封闭原则

## 定义：软件实体（类、模块、函数等等）应该可以扩展，但是不可以修改

### 对扩展是开放的

### 对更改是封闭的

## 目的

### 面对需求的改变可以保持相对文档，从而使得系统可以在第一个版本以后（以较小的开发维护成本）不断推出新的版本

### 面对需求，对程序的改动是通过增加代码进行的，而不是更改现有的代码

## 限制

### 无论模块是多么“封闭”，都会存在使之无法保持封闭的需求变化

### 设计人员要做的是选择哪种变化最有可能发生，构造抽象来隔离那些变化

### 早发现，早抽象，越晚发现，越难以创建/实现正确的抽象（修改成本高）

## 误区与反模式

### 不用对每个地方都刻意抽象，需要拒绝不成熟的抽象，仅对可能的、频繁的那些部分进行抽象
